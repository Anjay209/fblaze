* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Inter', sans-serif;
  }

  html::-webkit-scrollbar, body::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Edge */
  }
  
  body {
    background-color: #f8f9fb;
    color: #111;

  }
  
  /* Layout */
  .main-layout {
    display: flex;
    margin-top: 60px; /* same height as .top-header */
  }
  
  /* Sidebar */
  .sidebar {
    width: 70px;
    height: 100vh;
    background: white;
    border-right: 1px solid #ddd;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 1rem 0;
    gap: 2rem;
    position: fixed;
    top: 60px;
    left: 0;
    z-index: 2;
  }
  
  .logo {
    font-weight: bold;
    color: #007aff;
    font-size: 1.2rem;
  }
  
  .nav-icons {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }
  
  .nav-icons li {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.4rem;
    background-color: #f1f5ff;
    padding: 0.75rem;
    border-radius: 10px;
    cursor: pointer;
    transition: background 0.2s ease;
  }
  
  .nav-icons li:hover {
    background-color: #d8e5ff;
  }

  .nav-label {
    position: absolute;
    left: 100%;
    top: 50%;
    transform: translateY(-50%);
    background-color: #111827;
    color: white;
    font-size: 0.7rem;
    padding: 0.3rem 0.5rem;
    border-radius: 6px;
    margin-left: 0.75rem;
    white-space: nowrap;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.5s ease, transform 0.2s ease;
    z-index: 10;
  }

  .nav-icons li:hover .nav-label {
    opacity: 1;
    transform: translateY(-50%) translateX(0px);
  }
  
  /* Top Header */
  .top-header {
    position: sticky;
    top: 0;
    background: white;
    padding: 0.75rem 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #eee;
    z-index: 1000;
    height: 60px;
  }
  
  .nav-title {
    font-size: 1.2rem;
    font-weight: 600;
  }
  
  .new-badge {
    font-size: 0.9rem;
    color: #007aff;
    margin-left: 0.5rem;
  }
  
  .nav-right {
  position: relative;
  display: flex;
  align-items: center;
}
  
  .nav-right input {
    padding: 0.4rem 2.2rem 0.4rem 0.75rem;
    border: 1px solid #ccc;
    border-radius: 8px;
    font-size: 0.9rem;
    width: 220px;
  }
  
  .search-icon {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1rem;
    color: #666;
  }

  .sub-sidebar {
    width: 240px; /* ‚Üê make this wider */
    background: white;
    border-right: 1px solid #ddd;
    padding-top: 0;
    flex-shrink: 0;
    padding-left: 0;
    padding-right: 0;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    z-index: 999;
    position: fixed;
    top: 60px; /* align with .top-header height */
    left: 70px; /* width of .sidebar */
    height: calc(100vh - 60px);
    margin-top: 0;
  }
  
  .sub-nav-wrapper {
    padding: 0 0.2rem 1.5rem 1.25rem;
  }
  
  
  
  .sidebar-header {
    background-color: #007cf0; /* Purple like your reference */
    color: white;
    font-weight: 700;
    font-size: 1.2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 1.25rem;
    width: 100%;
    height: 60px;
    border-radius: 0; /* no curves */
  }
  .sidebar-header .dots {
    font-size: 1.3rem;
  }
  
  
  
  .sub-nav {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  
  .sub-nav li {
    font-size: 0.95rem;
    padding: 1rem 1rem;
    border-radius: 8px;
    color: #333;
    cursor: pointer;
    transition: background 0.2s ease;
    padding: 10px;
  }
  
  .sub-nav li:hover {
    background-color: #f1f5ff;
  }
  
  .sub-nav li.active {
    background-color: #e5f0ff;
    color: #007aff;
    font-weight: 600;
    border: 1px solid #007aff;
    width:85%;

  }

  .course-title {
    background: linear-gradient(to right, #007cf0, #00dfd8);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-size: 2rem;
    font-weight: 700;
    text-transform: lowercase;
  }
  
  .unit-title {
    font-size: 5rem;
    font-weight: 800;
    margin-top: 0.5rem;
    margin-bottom: 0.5rem;
    margin-left: -17vw;
  }
  
  .unit-title {
    font-weight: 800;
    margin-top: 1vh;
  }
  
  .name {
    background: linear-gradient(to right, #007cf0, #00dfd8);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-size: 5rem;
    margin-left: 20vw;
  }

  .section-header-background {
    width: 100vw; /* Full viewport width */
    background-color: #ffffff;
    padding: 1.5rem 3rem 0.5rem; /* ‚¨Ö reduced top & bottom padding */
    margin-bottom: 0;
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.05);
    position: relative;
    border-bottom: 1px solid #ccc; /* Long grey line under all tabs */
    z-index: 1;
  }

  .text {
    margin-left: 12vw;
  }
  
  
  .meta-info {
    font-size: 0.95rem;
    color: #555;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  
  /* AI Summary Box */
  .ai-summary {
    background: #e6f7ff;
    padding: 1rem 1rem;
    margin-top: 0; /* Try 0.25rem if you want it tighter */
    border-radius: 8px;
    margin-bottom: 2rem;
    width: 100%;
    max-width: 350px; /* Match the max-width of schoolhouse-card */
    border-left: 5px solid #00bfff; /* sky blue border */
    margin-left: 0; /* Ensure left margin matches other cards */
  }
  
  .ai-summary h3 {
    font-weight: 700;
    margin-bottom: 0.5rem;
  }
  .ai-summary p {
    line-height: 1.5rem;
  }
  
  .cards {
    display: flex;
  flex-wrap: nowrap; /* or wrap if you want responsive stacking */
  gap: 1rem;
  margin-top: 1.5rem;
  margin-left: 0; /* Ensure left margin matches ai-summary */
  overflow-x: auto;
  }
  
  
  .schoolhouse-card {
    background: #fff;
    border: 1px solid #e0e6ed;
    border-radius: 12px;
    padding: 1.5rem;
    width: 100%;
    max-width: 350px;
    box-shadow: 0 1px 2px rgba(0,0,0,0.04);
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  
  .card-icon {
    font-size: 2rem;
    color: #3b82f6;
  }
  
  .card-content h3 {
    font-size: 1.1rem;
    font-weight: 700;
  }

  .card-content{
    gap: 1rem;
    display: flex;
  flex-direction: column;
  }
  
  .card-content p {
    font-size: 0.95rem;
    color: #4b5563;
  }
  
  .card-content a {
    font-size: 0.95rem;
    color: #2563eb;
    font-weight: 600;
    text-decoration: none;
  }
  
  .card-content a:hover {
    text-decoration: underline;
  }

  .content {
    flex: 1;
    padding: 2rem;
    margin-left: 15rem;
    margin-top:-2rem;
  }
  

  .grid-wrapper {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 1rem;
  }  
  
  .corner {
    width: 7rem;
    height: 1.5rem;
  }
  
  .col-labels {
    display: grid;
    grid-template-columns: repeat(10, 2rem);
    gap: 0.5rem;
    margin-left: 7rem;
    font-size: 0.85rem;
    color: #666;
  }
  
  .col-labels span {
    text-align: center;
  }
  
  .grid-row {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  
  .row-label {
    width: 7rem;
    font-weight: bold;
    font-size: 0.85rem;
    color: #444;
  }
  
  .row-grid {
    display: grid;
    grid-template-columns: repeat(10, 2rem);
    gap: 0.5rem;
  }
  
  .square {
    width: 100%;
  max-width: 2rem;
  aspect-ratio: 1 / 1;
    background-color: #fff;
    border: 1px solid #e0e6ed;
    border-radius: 4px;
  }
  
  
  .layout {
    display: flex;
    align-items: flex-start;
    gap: 2rem;
  }
 
  .competency-button {
    margin-top: 0.5rem;
    background-color: #007cf0;
    color: white;
    font-weight: 600;
    font-size: 0.95rem;
    padding: 0.5rem 1rem;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.2s ease;
  }
  
  .competency-button:hover {
    background-color: #005fcc;
  }
  
  .section-header-inline {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    padding: 0 2rem;
    gap: 1rem;
    margin-top: 1rem;
  }

  
  .competency-button {
    background-color: #007cf0;
    color: white;
    font-weight: 600;
    font-size: 0.95rem;
    padding: 0.5rem 1.2rem;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.2s ease;
  }
  
  .competency-button:hover {
    background-color: #005fcc;
  }
  
 /* Backdrop */
.modal-backdrop {
  position: fixed;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(20px);
  z-index: 999; /* must be below modal */
}

/* Modal */
.competency-modal {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: white;
  padding: 2rem;
  border-radius: 10px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
  z-index: 1000;
  max-width: 600px;
  width: 90%;
}

/* Hide by default */
.hidden {
  display: none;
}


.modal-content h2 {
  margin-top: 0;
}

.close-modal {
  margin-top: 1rem;
  background-color: #d8e5ff;
  color: #666 ;
  border: 2px solid #e0e6ed;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 6px;
  cursor: pointer;
}

/* FAQ */
.faq-wrapper {
  margin-top: 2rem;
  margin-left: 18vw;
  width: 73.5vw;
}

.faq-category {
  font-size: 1.25rem;
  font-weight: 600;
  color: #007cf0;
  margin-bottom: 1rem;
}

.desc {
  line-height: 1.6rem;
}

.accordion {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.accordion-item {
  border-bottom: 1px solid #ddd;
}

.accordion-toggle {
  background: none;
  border: none;
  font-size: 1rem;
  font-weight: 600;
  text-align: left;
  width: 100%;
  padding: 1rem 0;
  cursor: pointer;

  display: flex;
  justify-content: space-between; /* üëà pushes icon to far right */
  align-items: center;
  gap: 1rem;
}

.accordion-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease;
  font-size: 0.95rem;
  color: #555;
}

.accordion-toggle.active + .accordion-content {
  max-height: 200px;
  padding-bottom: 1rem;
}

.feature-box-icon {
  width: 48px;
  height: 48px;
  margin-bottom: 12px;
  display: block;
  object-fit: contain;
}

.sidebar .nav-icons a {
  text-decoration: none !important;  /* üí• Force remove underline */
  color: inherit;                    /* üü¶ Optional: match surrounding text color */
  display: flex;                     /* üîß Keeps icon and label aligned */
  align-items: center;
  gap: 0.5rem;                       /* üëà Optional spacing between icon and label */
}

.chevron-icon {
  transition: transform 0.3s ease;
}

.chevron-icon.rotate {
  transform: rotate(180deg);
}

.small-action-button {
  background-color: #fff;
  color: #666 ;
  border: 2px solid #e0e6ed;
  font-weight: 500;
  padding: 0.4rem 0.9rem;
  font-size: 0.85rem;
  border-radius: 6px;
  cursor: pointer;
  transition: background 0.2s ease;
  display: inline-block;
  margin-top: 0.5rem;
}

.small-action-button:hover {
  background-color: #eee;
  border: 2px solid #e0e6ed;
}


.small-action-button:active {
  transform: translateY(0);
  box-shadow: 0 1px 3px rgba(0, 124, 240, 0.2);
}


#searchDropdown {
  position: absolute;
  right: 25px;           /* adjust for your layout */
  top: 45px;             /* just below search bar */
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  min-width: 320px;
  box-shadow: 0 4px 24px 0 rgba(40,60,70,0.08), 0 1.5px 7px 0 rgba(40,60,70,0.06);
  z-index: 9999;
  display: none;         /* JS sets to block when results found */
  max-height: 320px;
  overflow-y: auto;
  padding: 0;
  margin-top: 6px;
}

.dropdown-result {
  padding: 16px 22px 12px 22px;
  cursor: pointer;
  border-bottom: 1px solid #eee;
  font-size: 1rem;
  background: #fff;
  transition: background 0.14s;
}
.dropdown-result:last-child { border-bottom: none; }
.dropdown-result:hover,
.dropdown-result:focus { background: #f5f8fa; }

/* Competency Modal Styles */
.competency-modal {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: white;
  padding: 2rem;
  border-radius: 8px;
  width: 90%;
  max-width: 800px;
  max-height: 90vh;
  overflow-y: auto;
  z-index: 1001;
  box-shadow: 0 4px 20px rgba(0,0,0,0.15);
}

.modal-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0,0,0,0.5);
  z-index: 1000;
}

.hidden {
  display: none;
}

/* Grid Styles */
.grid-wrapper {
  display: grid;
  grid-template-columns: 150px repeat(10, 1fr);
  gap: 4px;
  margin-top: 1rem;
}




.grid-row {
  display: contents;
}

.row-label {
  grid-column: 1;
  padding: 8px;
  font-weight: 600;
  display: flex;
  align-items: center;
}

.row-grid {
  grid-column: 2 / span 10;
  display: flex;
}

.square {
  flex: 1;
  height: 30px;
  border: 1px solid #ddd;
  margin: 1px;
  transition: all 0.2s;
}

/* Confidence Level Colors */
.square.low-confidence {
  background-color: #ff6b6b;
  border-color: #ff6b6b;
}

.square.medium-confidence {
  background-color: #ffd166;
  border-color: #ffd166;
}

.square.high-confidence {
  background-color: #06d6a0;
  border-color: #06d6a0;
}

.square.mastery {
  background-color: #118ab2;
  border-color: #118ab2;
}

/* Confidence Legend */
.confidence-legend {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin: 15px 0;
  flex-wrap: wrap;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 5px;
}

.legend-color {
  display: inline-block;
  width: 15px;
  height: 15px;
  border-radius: 3px;
}

.legend-color.low-confidence {
  background-color: #ff6b6b;
}

.legend-color.medium-confidence {
  background-color: #ffd166;
}

.legend-color.high-confidence {
  background-color: #06d6a0;
}

.legend-color.mastery {
  background-color: #118ab2;
}

/* Competency Grid Styles */

/* Competency Grid */
.grid-wrapper {
  margin: 1rem 0;
}

.grid-header {
  display: grid;
  grid-template-columns: 120px repeat(10, 30px);
  gap: 4px;
  margin-bottom: 4px;
  align-items: center;
}

.corner {
  /* Empty corner space */
}

.col-labels {
  display: contents;
}

.col-labels span {
  text-align: center;
  font-weight: 600;
  color: #6b7280;
  padding: 4px;
  width: 30px;
}

.competency-row {
  display: grid;
  grid-template-columns: 1200px repeat(10, 30px);
  gap: 10px;
  margin-bottom: 4px;
  align-items: center;
}

.row-label {
  padding: 8px;
  font-weight: 500;
  background: #f8fafc;
  border-radius: 4px;
  font-size: 0.875rem;
  text-align: left;
  width: 120px;
}

.square {
  width: 30px;
  height: 30px;
  border: 1px solid #e5e7eb;
  border-radius: 2px;
  background: #f9fafb;
  margin-left: 16px;
}

.row-grid {
  grid-column: 2 / span 10;
  display: flex;
}


/* Confidence Level Colors */
.square.low-confidence { background-color: #ff6b6b; }
.square.medium-confidence { background-color: #ffd166; }
.square.high-confidence { background-color: #06d6a0; }
.square.mastery { background-color: #118ab2; }

/* Legend Styles */
.confidence-legend {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin: 15px 0;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 5px;
}

.legend-color {
  display: inline-block;
  width: 15px;
  height: 15px;
  border-radius: 3px;
}

.low-confidence { background-color: #ff6b6b; }
.medium-confidence { background-color: #ffd166; }
.high-confidence { background-color: #06d6a0; }
.mastery { background-color: #118ab2; }

.link {
  color: grey;
  text-decoration: none;
}

  .tab.active {
    background: #e7f1ff; /* Soft light blue background */
  color: #1a73e8;  
    font-weight: 600;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
  }

   .nav-pills {
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    margin: 2rem 0;
    flex-wrap: wrap;
    background: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(10px);
    border-radius: 50px;
    padding: 0.5rem;
    width: fit-content;
    margin-left: auto;
    margin-right: auto;
    border: 1px solid rgba(255, 255, 255, 0.3);
  }

  .nav-pill {
    padding: 0.8rem 1.8rem;
    border-radius: 50px;
    background: transparent;
    border: none;
    color: #666;
    text-decoration: none;
    font-weight: 500;
    font-size: 0.95rem;
    transition: all 0.3s ease;
    position: relative;
  }

  .nav-pill:hover {
    color: #4facfe;
    transform: translateY(-1px);
  }

  .nav-pill.active {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    color: white;
    box-shadow: 0 4px 20px rgba(79, 172, 254, 0.4);
  }

  .text {
    margin-left: 12vw;
  }

  .text.glassmorphic {
    margin-left: 0;
  }

  .question-tabs {
    display: flex;
    gap: 2rem;
    position: relative;
    justify-content: flex-start;
    align-items: flex-end;
    margin-left: 23.5vw;
    margin-top: -30px;
    width: 100%;
  }
/* Gradient Blobs */
  body::before,
  body::after {
    content: '';
    position: fixed;
    border-radius: 50%;
    filter: blur(80px);
    z-index: -1;
    animation: float 20s ease-in-out infinite;
  }

  /* Top Right Blob */
  body::before {
    width: 400px;
    height: 400px;
    top: -100px;
    right: -100px;
    background: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 50%, #45b7d1 100%);
    animation-delay: 0s;
  }

  /* Bottom Left Blob */
  body::after {
    width: 350px;
    height: 350px;
    bottom: -80px;
    left: -80px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
    animation-delay: 10s;
  }

  /* Additional floating blobs */
  .gradient-blob-1,
  .gradient-blob-2 {
    position: fixed;
    border-radius: 50%;
    filter: blur(60px);
    z-index: -1;
    animation: float 25s ease-in-out infinite;
  }

  .gradient-blob-1 {
    width: 200px;
    height: 200px;
    top: 20%;
    left: 10%;
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    animation-delay: 5s;
  }

  .gradient-blob-2 {
    width: 250px;
    height: 250px;
    bottom: 30%;
    right: 15%;
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    animation-delay: 15s;
  }
  
   /* New Glassmorphic Section Header - Canva Style */
  .section-header-background {
    width: 90vw;
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(20px);
    padding: 3rem 2rem;
    margin-bottom: 0;
    position: relative;
    z-index: 1;
    text-align: center;
  }

  .modal{
     backdrop-filter: blur(30px);
  }

  .section-header-background.glassmorphic {
    width: calc(100vw - 120px);
    background: rgba(255, 255, 255, 0.4);
    backdrop-filter: blur(30px);
    -webkit-backdrop-filter: blur(30px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 24px;
    padding: 3rem 2rem;
    height: 33vh;
    margin: 2rem;
    margin-left: 90px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
    border-bottom: none;
  }

  /* Competition header inside glassmorphic box */
  .competition-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    padding: 1.2rem 2rem;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 16px;
    color: white;
    box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);
  }

   /* Search Section */
.search-section {
  display: flex;
  justify-content: center;
  padding: 2rem 1rem;
  margin-bottom: 2rem;
}

.search-container {
  position: relative;
  max-width: 600px;
  width: 100%;
}

.main-search {
  width: 100%;
  padding: 1rem 3rem 1rem 1.5rem;
  font-size: 1rem;
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 50px;
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(20px);
  outline: none;
  transition: all 0.3s ease;
  color: #374151;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
}

.main-search::placeholder {
  color: #9ca3af;
  font-weight: 400;
}

.main-search:focus {
  border-color: #4facfe;
  background: rgba(255, 255, 255, 0.95);
  box-shadow: 0 8px 32px rgba(79, 172, 254, 0.2);
  transform: translateY(-1px);
}

.search-icon {
  position: absolute;
  right: 1.5rem;
  top: 50%;
  transform: translateY(-50%);
  font-size: 1.2rem;
  color: #9ca3af;
  pointer-events: none;
  transition: color 0.3s ease;
}

.main-search:focus + .search-icon {
  color: #4facfe;
}

/* =========================
   STATISTICS ‚Äî RESPONSIVE PATCH
   ========================= */

/* keep pages from side-scrolling while we adjust layout */
html, body { overflow-x: hidden; }

/* large tablets / small laptops */
@media (max-width: 1200px) {
  .section-header-background.glassmorphic,
  .section-header-background {
    width: min(96vw, 1100px);
    margin: 1rem auto;
    height: auto;
    border-radius: 20px;
    padding: 2rem 1.5rem;
  }
}

/* tablets and below (‚â§1024px) */
@media (max-width: 1024px) {
  /* 1) Hide the 70px rail on mobile; don't reserve space - REMOVED: now using slide-in pattern */
  /* .sidebar { display: none !important; } */

  /* 2) Give content the full width and remove desktop nudges */
  .content {
    margin: 0 !important;
    width: 100% !important;
    max-width: 100%;
    padding: 1rem 1rem 2rem !important;
  }

  /* 3) Headings/titles: clamp and remove vw shifts */
  .unit-title,
  .name { margin-left: 0 !important; }
  .unit-title { font-size: clamp(1.8rem, 7vw, 3rem) !important; line-height: 1.2; }
  .name       { font-size: clamp(1.6rem, 6.5vw, 3rem) !important; }

  .text { margin-left: 0 !important; }

  /* 4) Hero/section header: full-bleed strip on mobile */
  .section-header-background {
    width: 100% !important;
    margin: 0 !important;
    border-radius: 0 !important;
    height: auto !important;
    padding: 1.25rem 1rem 1rem !important;
    text-align: center;
  }

  /* 5) AI summary and cards: go full width */
  .cards,
  .faq-wrapper { width: 100% !important; margin-left: 0 !important; }

  .ai-summary { 
    padding: 1rem; 
    border-left-width: 3px; 
    width: 100% !important; 
    margin-left: 0 !important;
    max-width: 100% !important; /* Match schoolhouse-card behavior */
  }

  /* 6) Search UI: hide long input, keep icon; clamp dropdown width */
  .nav-right input { display: none; }
  .search-icon { pointer-events: auto; }
  #searchDropdown { width: min(92vw, 340px) !important; right: 0 !important; }

  /* 7) Grid: make it scrollable horizontally, not squished */
  .grid-wrapper { overflow-x: auto; padding-bottom: 0.5rem; }
  .grid-header  { grid-template-columns: 100px repeat(10, 30px); }
  .row-label    { width: 100px; }

  /* 8) Calm background blobs for small screens */
  body::before,
  body::after,
  .gradient-blob-1,
  .gradient-blob-2 { display: none; }

  /* 9) Remove negative top pulls that clip under sticky header */
  .question-tabs { margin-left: 0 !important; margin-top: 0 !important; }

  /* 10) Fix nav pills positioning on tablets */
  .nav-pills { 
    margin: 3rem auto 2rem auto; /* Move buttons down on tablets */
    flex-wrap: nowrap; /* Keep buttons on same line */
    gap: 0.4rem; /* Slightly larger gap for tablets */
  }

  /* Adjust nav pill buttons for tablets */
  .nav-pill {
    padding: 0.7rem 1.4rem;
    font-size: 0.95rem;
    min-width: 85px;
    white-space: nowrap;
  }
}

/* phones (‚â§768px) */
@media (max-width: 768px) {
  .top-header { padding: .5rem 1rem; height: 56px; }

  /* Wrap & center pills/tabs nicely */
  .nav-pills { 
    margin: 4rem auto 2rem auto; /* Move buttons down significantly */
    flex-wrap: nowrap; /* Keep buttons on same line */
    gap: 0.3rem; /* Reduce gap for better fit */
  }
  .question-tabs { flex-wrap: wrap; justify-content: center; gap: .5rem .75rem; }

  /* Adjust nav pill buttons for mobile */
  .nav-pill {
    padding: 0.6rem 1.2rem;
    font-size: 0.9rem;
    min-width: 80px;
    white-space: nowrap;
  }

  /* Cards: single column */
  .cards { flex-wrap: wrap; overflow-x: visible; }
  .schoolhouse-card { max-width: 100%; }
  
  /* AI summary: match schoolhouse-card width behavior */
  .ai-summary { max-width: 100% !important; }

  /* Grid: fewer columns with smaller squares for readability */
  .grid-header { grid-template-columns: 90px repeat(5, 24px); }
  .row-label   { width: 90px; font-size: .85rem; }
  .row-grid    { display: grid; grid-template-columns: repeat(5, 24px); gap: 4px; }
  .square      { width: 24px; height: 24px; margin: 0; }

  /* FAQ spacing */
  .accordion-toggle { padding: .75rem 0; }
}

/* small phones (‚â§480px) */
@media (max-width: 480px) {
  .unit-title { font-size: 1.6rem !important; }
  .name       { font-size: 1.6rem !important; }
  .ai-summary p { font-size: .95rem; }

  .nav-pill { 
    padding: .55rem .95rem; 
    font-size: .9rem; 
    min-width: 70px;
    white-space: nowrap;
  }

  /* Fix nav pills positioning on small phones */
  .nav-pills { 
    margin: 5rem auto 2rem auto; /* Even more top margin for small phones */
    flex-wrap: nowrap; /* Keep buttons on same line */
    gap: 0.2rem; /* Smaller gap for small phones */
  }

  .grid-header { grid-template-columns: 80px repeat(4, 22px); }
  .row-label   { width: 80px; font-size: .8rem; }
  .row-grid    { grid-template-columns: repeat(4, 22px); }
  .square      { width: 22px; height: 22px; }
}

/* =========================
   ALIGN "PERFORMANCE SUMMARY" WITH CARDS ABOVE
   ========================= */

/* Align "Performance Summary" with the cards above */
.faq-wrapper{
  /* match .content */
  max-width: 1200px;
  margin: 2rem auto;         /* center it like .content */
  padding: 0 2rem;            /* same side padding as .content */
  width: 100% !important;     /* override older vw width */
}

/* Desktop: add left margin to match content positioning */
@media (min-width: 1025px) {
  .faq-wrapper {
    margin-left: 15rem;       /* match .content margin-left */
  }
}

/* tablets/phones: keep the same rhythm as your mobile .content padding */
@media (max-width: 1024px){
  .faq-wrapper{
    margin: 1.25rem auto 2rem;
    padding: 0 1rem;          /* .content uses ~1rem on mobile */
  }
}

/* ===== HAMBURGER + SLIDE-IN SIDEBAR (‚â§1024px) ===== */
@media (max-width:1024px){

  /* show the hamburger and keep it above everything */
  .hamburger-menu{
    display: flex !important;
    flex-direction: column !important; /* Stack spans vertically */
    visibility: visible !important;
    z-index: 1101 !important; /* higher than sidebar/backdrops */
    gap: 4px;
    background: transparent;
    border: 0;
    padding: .25rem;
    cursor: pointer;
  }
  .hamburger-menu span{
    width: 22px; height: 2px; background:#111; display:block; transition:.3s;
  }

  /* DO NOT hide the sidebar; keep it off-canvas by default */
  .sidebar{
    position: fixed !important;
    top: 60px !important;       /* same as sticky header height */
    left: 0 !important;
    height: calc(100vh - 60px) !important;
    transform: translateX(-120%) !important;   /* fully off screen */
    transition: transform .25s ease;
    z-index: 1100 !important;
    pointer-events: none;        /* non-clickable while hidden */
    visibility: hidden;
  }
  /* when opened (JS toggles .mobile-open) */
  .sidebar.mobile-open{
    transform: translateX(0) !important;
    pointer-events: auto;
    visibility: visible;
  }

  /* if this page has a secondary fixed rail, hide it on mobile */
  .sub-sidebar{ display:none !important; }

  /* content should not reserve desktop side space */
  .content{ margin-left:0 !important; width:100% !important; }

  /* keep long search box hidden on mobile, magnifier tappable */
  .nav-right input{ display:none; }
  .search-icon{ pointer-events:auto; }
}

/* backdrop for slide-in */
.sidebar-backdrop{
  display:none; position:fixed; inset:0; background:rgba(0,0,0,.45);
  z-index:1099; opacity:0; transition:opacity .25s ease; pointer-events:none;
}
.sidebar-backdrop.active{ display:block; opacity:1; pointer-events:auto; }

/* pretty X animation (optional) */
.hamburger-menu.active span:nth-child(1){ transform:rotate(45deg) translate(5px,5px); }
.hamburger-menu.active span:nth-child(2){ opacity:0; }
.hamburger-menu.active span:nth-child(3){ transform:rotate(-45deg) translate(7px,-6px); }